{
  "id": "16c33502-3e8f-4cce-b0c4-c4514715e8a3",
  "prevId": "3458db89-ce4b-4b13-a760-9ff057f7b11a",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "app.administrations": {
      "name": "administrations",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_public": {
          "name": "name_public",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date_start": {
          "name": "date_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "date_end": {
          "name": "date_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_ordered": {
          "name": "is_ordered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "administrations_name_lower_idx": {
          "name": "administrations_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_name_lower_pattern_idx": {
          "name": "administrations_name_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_name_public_lower_idx": {
          "name": "administrations_name_public_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name_public\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_name_public_lower_pattern_idx": {
          "name": "administrations_name_public_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name_public\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_created_by_idx": {
          "name": "administrations_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_date_end_idx": {
          "name": "administrations_date_end_idx",
          "columns": [
            {
              "expression": "date_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_date_range_idx": {
          "name": "administrations_date_range_idx",
          "columns": [
            {
              "expression": "date_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administrations_name_unique_idx": {
          "name": "administrations_name_unique_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "administrations_created_by_users_id_fk": {
          "name": "administrations_created_by_users_id_fk",
          "tableFrom": "administrations",
          "columnsFrom": ["created_by"],
          "tableTo": "users",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "administrations_date_start_end_check": {
          "name": "administrations_date_start_end_check",
          "value": "(\"app\".\"administrations\".\"date_start\" < \"app\".\"administrations\".\"date_end\")"
        }
      },
      "isRLSEnabled": false
    },
    "app.administration_agreements": {
      "name": "administration_agreements",
      "schema": "app",
      "columns": {
        "administration_id": {
          "name": "administration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agreement_id": {
          "name": "agreement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "administration_agreements_administration_id_administrations_id_fk": {
          "name": "administration_agreements_administration_id_administrations_id_fk",
          "tableFrom": "administration_agreements",
          "columnsFrom": ["administration_id"],
          "tableTo": "administrations",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "administration_agreements_agreement_id_agreements_id_fk": {
          "name": "administration_agreements_agreement_id_agreements_id_fk",
          "tableFrom": "administration_agreements",
          "columnsFrom": ["agreement_id"],
          "tableTo": "agreements",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "administration_agreements_pkey": {
          "name": "administration_agreements_pkey",
          "columns": ["administration_id", "agreement_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.administration_classes": {
      "name": "administration_classes",
      "schema": "app",
      "columns": {
        "administration_id": {
          "name": "administration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "administration_classes_administration_id_administrations_id_fk": {
          "name": "administration_classes_administration_id_administrations_id_fk",
          "tableFrom": "administration_classes",
          "columnsFrom": ["administration_id"],
          "tableTo": "administrations",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "administration_classes_class_id_classes_id_fk": {
          "name": "administration_classes_class_id_classes_id_fk",
          "tableFrom": "administration_classes",
          "columnsFrom": ["class_id"],
          "tableTo": "classes",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "administration_classes_pkey": {
          "name": "administration_classes_pkey",
          "columns": ["administration_id", "class_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.administration_groups": {
      "name": "administration_groups",
      "schema": "app",
      "columns": {
        "administration_id": {
          "name": "administration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "administration_groups_administration_id_administrations_id_fk": {
          "name": "administration_groups_administration_id_administrations_id_fk",
          "tableFrom": "administration_groups",
          "columnsFrom": ["administration_id"],
          "tableTo": "administrations",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "administration_groups_group_id_groups_id_fk": {
          "name": "administration_groups_group_id_groups_id_fk",
          "tableFrom": "administration_groups",
          "columnsFrom": ["group_id"],
          "tableTo": "groups",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "administration_groups_pkey": {
          "name": "administration_groups_pkey",
          "columns": ["administration_id", "group_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.administration_orgs": {
      "name": "administration_orgs",
      "schema": "app",
      "columns": {
        "administration_id": {
          "name": "administration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "administration_orgs_administration_id_administrations_id_fk": {
          "name": "administration_orgs_administration_id_administrations_id_fk",
          "tableFrom": "administration_orgs",
          "columnsFrom": ["administration_id"],
          "tableTo": "administrations",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "administration_orgs_org_id_orgs_id_fk": {
          "name": "administration_orgs_org_id_orgs_id_fk",
          "tableFrom": "administration_orgs",
          "columnsFrom": ["org_id"],
          "tableTo": "orgs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "administration_orgs_pkey": {
          "name": "administration_orgs_pkey",
          "columns": ["administration_id", "org_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.administration_task_variants": {
      "name": "administration_task_variants",
      "schema": "app",
      "columns": {
        "administration_id": {
          "name": "administration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task_variant_id": {
          "name": "task_variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "conditions_assignment": {
          "name": "conditions_assignment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "conditions_requirements": {
          "name": "conditions_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "administration_task_variants_administration_id_order_index_idx": {
          "name": "administration_task_variants_administration_id_order_index_idx",
          "columns": [
            {
              "expression": "administration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order_index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administration_task_variants_task_variant_id_idx": {
          "name": "administration_task_variants_task_variant_id_idx",
          "columns": [
            {
              "expression": "task_variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "administration_task_variants_admin_order_unique_idx": {
          "name": "administration_task_variants_admin_order_unique_idx",
          "columns": [
            {
              "expression": "administration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order_index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "administration_task_variants_administration_id_administrations_id_fk": {
          "name": "administration_task_variants_administration_id_administrations_id_fk",
          "tableFrom": "administration_task_variants",
          "columnsFrom": ["administration_id"],
          "tableTo": "administrations",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "administration_task_variants_task_variant_id_task_variants_id_fk": {
          "name": "administration_task_variants_task_variant_id_task_variants_id_fk",
          "tableFrom": "administration_task_variants",
          "columnsFrom": ["task_variant_id"],
          "tableTo": "task_variants",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "administration_task_variants_pkey": {
          "name": "administration_task_variants_pkey",
          "columns": ["administration_id", "task_variant_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.agreements": {
      "name": "agreements",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agreement_type": {
          "name": "agreement_type",
          "type": "agreement_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "requires_majority_age": {
          "name": "requires_majority_age",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agreements_name_lower_idx": {
          "name": "agreements_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "agreements_name_lower_pattern_idx": {
          "name": "agreements_name_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "agreements_type_idx": {
          "name": "agreements_type_idx",
          "columns": [
            {
              "expression": "agreement_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.agreement_versions": {
      "name": "agreement_versions",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agreement_id": {
          "name": "agreement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": true
        },
        "github_filename": {
          "name": "github_filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "github_org_repo": {
          "name": "github_org_repo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "github_commit_sha": {
          "name": "github_commit_sha",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agreement_versions_current_unique_idx": {
          "name": "agreement_versions_current_unique_idx",
          "columns": [
            {
              "expression": "agreement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "locale",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "where": "\"app\".\"agreement_versions\".\"is_current\" = true",
          "concurrently": false
        },
        "agreement_versions_identity_unique_idx": {
          "name": "agreement_versions_identity_unique_idx",
          "columns": [
            {
              "expression": "agreement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "locale",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "github_commit_sha",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "agreement_versions_agreement_id_idx": {
          "name": "agreement_versions_agreement_id_idx",
          "columns": [
            {
              "expression": "agreement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "agreement_versions_current_idx": {
          "name": "agreement_versions_current_idx",
          "columns": [
            {
              "expression": "is_current",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agreement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "agreement_versions_current_locale_idx": {
          "name": "agreement_versions_current_locale_idx",
          "columns": [
            {
              "expression": "is_current",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "locale",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agreement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "agreement_versions_agreement_id_agreements_id_fk": {
          "name": "agreement_versions_agreement_id_agreements_id_fk",
          "tableFrom": "agreement_versions",
          "columnsFrom": ["agreement_id"],
          "tableTo": "agreements",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "agreement_versions_locale_format": {
          "name": "agreement_versions_locale_format",
          "value": "\"app\".\"agreement_versions\".\"locale\" ~ '^[a-z]{2}(-[A-Z]{2})?$'"
        }
      },
      "isRLSEnabled": false
    },
    "app.classes": {
      "name": "classes",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "district_id": {
          "name": "district_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_path": {
          "name": "org_path",
          "type": "ltree",
          "primaryKey": false,
          "notNull": true
        },
        "class_type": {
          "name": "class_type",
          "type": "class_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "period": {
          "name": "period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "term_id": {
          "name": "term_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subjects": {
          "name": "subjects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grades": {
          "name": "grades",
          "type": "grade[]",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false
        },
        "school_levels": {
          "name": "school_levels",
          "type": "school_level[]",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "type": "stored",
            "as": "app.get_school_levels_from_grades_array(grades)"
          }
        },
        "rostering_ended": {
          "name": "rostering_ended",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "classes_school_name_lower_uniqIdx": {
          "name": "classes_school_name_lower_uniqIdx",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "classes_district_idx": {
          "name": "classes_district_idx",
          "columns": [
            {
              "expression": "district_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "classes_course_idx": {
          "name": "classes_course_idx",
          "columns": [
            {
              "expression": "course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "classes_org_path_gist_idx": {
          "name": "classes_org_path_gist_idx",
          "columns": [
            {
              "expression": "org_path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "gist",
          "concurrently": false
        },
        "classes_name_lower_idx": {
          "name": "classes_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "classes_name_lower_pattern_idx": {
          "name": "classes_name_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "classes_school_id_orgs_id_fk": {
          "name": "classes_school_id_orgs_id_fk",
          "tableFrom": "classes",
          "columnsFrom": ["school_id"],
          "tableTo": "orgs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        },
        "classes_district_id_orgs_id_fk": {
          "name": "classes_district_id_orgs_id_fk",
          "tableFrom": "classes",
          "columnsFrom": ["district_id"],
          "tableTo": "orgs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        },
        "classes_course_id_courses_id_fk": {
          "name": "classes_course_id_courses_id_fk",
          "tableFrom": "classes",
          "columnsFrom": ["course_id"],
          "tableTo": "courses",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.courses": {
      "name": "courses",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "courses_org_name_lower_uniqIdx": {
          "name": "courses_org_name_lower_uniqIdx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "courses_org_number_uniqIdx": {
          "name": "courses_org_number_uniqIdx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "courses_name_lower_idx": {
          "name": "courses_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "courses_name_lower_pattern_idx": {
          "name": "courses_name_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "courses_org_id_orgs_id_fk": {
          "name": "courses_org_id_orgs_id_fk",
          "tableFrom": "courses",
          "columnsFrom": ["org_id"],
          "tableTo": "orgs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.families": {
      "name": "families",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "location_address_line1": {
          "name": "location_address_line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_address_line2": {
          "name": "location_address_line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_city": {
          "name": "location_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_state_province": {
          "name": "location_state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_postal_code": {
          "name": "location_postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_country": {
          "name": "location_country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "location_lat_long": {
          "name": "location_lat_long",
          "type": "point",
          "primaryKey": false,
          "notNull": false
        },
        "rostering_ended": {
          "name": "rostering_ended",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.groups": {
      "name": "groups",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "abbreviation": {
          "name": "abbreviation",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "group_type": {
          "name": "group_type",
          "type": "group_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "location_address_line1": {
          "name": "location_address_line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_address_line2": {
          "name": "location_address_line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_city": {
          "name": "location_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_state_province": {
          "name": "location_state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_postal_code": {
          "name": "location_postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_country": {
          "name": "location_country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "location_lat_long": {
          "name": "location_lat_long",
          "type": "point",
          "primaryKey": false,
          "notNull": false
        },
        "rostering_ended": {
          "name": "rostering_ended",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "groups_name_lower_idx": {
          "name": "groups_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "groups_name_lower_pattern_idx": {
          "name": "groups_name_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "groups_abbreviation_format": {
          "name": "groups_abbreviation_format",
          "value": "\"app\".\"groups\".\"abbreviation\" ~ '^[A-Za-z0-9]+$'"
        }
      },
      "isRLSEnabled": false
    },
    "app.invitation_codes": {
      "name": "invitation_codes",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "valid_to": {
          "name": "valid_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "invitation_codes_group_idx": {
          "name": "invitation_codes_group_idx",
          "columns": [
            {
              "expression": "group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "invitation_codes_group_id_groups_id_fk": {
          "name": "invitation_codes_group_id_groups_id_fk",
          "tableFrom": "invitation_codes",
          "columnsFrom": ["group_id"],
          "tableTo": "groups",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invitation_codes_code_unique": {
          "name": "invitation_codes_code_unique",
          "columns": ["code"],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {
        "invitation_codes_valid_range": {
          "name": "invitation_codes_valid_range",
          "value": "\"app\".\"invitation_codes\".\"valid_to\" IS NULL OR \"app\".\"invitation_codes\".\"valid_to\" > \"app\".\"invitation_codes\".\"valid_from\""
        }
      },
      "isRLSEnabled": false
    },
    "app.run_demographics": {
      "name": "run_demographics",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status_ell": {
          "name": "status_ell",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "status_frl": {
          "name": "status_frl",
          "type": "free_reduced_lunch_status",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false
        },
        "status_iep": {
          "name": "status_iep",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "race": {
          "name": "race",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hispanic_ethnicity": {
          "name": "hispanic_ethnicity",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "home_language": {
          "name": "home_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "age_in_months": {
          "name": "age_in_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "grade": {
          "name": "grade",
          "type": "grade",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false
        },
        "school_level": {
          "name": "school_level",
          "type": "school_level",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "type": "stored",
            "as": "app.get_school_level_from_grade(grade)"
          }
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "run_demographics_runId_unique": {
          "name": "run_demographics_runId_unique",
          "columns": ["run_id"],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.rostering_runs": {
      "name": "rostering_runs",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rostering_provider": {
          "name": "rostering_provider",
          "type": "rostering_provider",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "run_type": {
          "name": "run_type",
          "type": "rostering_run_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "sync_started": {
          "name": "sync_started",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sync_ended": {
          "name": "sync_ended",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rostering_runs_provider_idx": {
          "name": "rostering_runs_provider_idx",
          "columns": [
            {
              "expression": "rostering_provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "rostering_runs_provider_running_idx": {
          "name": "rostering_runs_provider_running_idx",
          "columns": [
            {
              "expression": "rostering_provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "where": "\"app\".\"rostering_runs\".\"sync_ended\" IS NULL",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.rostering_run_entities": {
      "name": "rostering_run_entities",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rostering_run_id": {
          "name": "rostering_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "rostering_entity_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "rostering_entity_status",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "exceptions": {
          "name": "exceptions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "rostering_run_entities_run_id_idx": {
          "name": "rostering_run_entities_run_id_idx",
          "columns": [
            {
              "expression": "rostering_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "rostering_run_entities_provider_id_idx": {
          "name": "rostering_run_entities_provider_id_idx",
          "columns": [
            {
              "expression": "provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "rostering_run_entities_run_status_idx": {
          "name": "rostering_run_entities_run_status_idx",
          "columns": [
            {
              "expression": "rostering_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "rostering_run_entities_rostering_run_id_rostering_runs_id_fk": {
          "name": "rostering_run_entities_rostering_run_id_rostering_runs_id_fk",
          "tableFrom": "rostering_run_entities",
          "columnsFrom": ["rostering_run_id"],
          "tableTo": "rostering_runs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.rostering_provider_ids": {
      "name": "rostering_provider_ids",
      "schema": "app",
      "columns": {
        "provider_type": {
          "name": "provider_type",
          "type": "rostering_provider",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "partner_id": {
          "name": "partner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "rostering_entity_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "rostering_provider_ids_entity_unique_idx": {
          "name": "rostering_provider_ids_entity_unique_idx",
          "columns": [
            {
              "expression": "provider_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "rostering_provider_ids_entity_idx": {
          "name": "rostering_provider_ids_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "rostering_provider_ids_pk": {
          "name": "rostering_provider_ids_pk",
          "columns": ["provider_type", "partner_id", "provider_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.tasks": {
      "name": "tasks",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_simple": {
          "name": "name_simple",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_technical": {
          "name": "name_technical",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tutorial_video": {
          "name": "tutorial_video",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "task_config": {
          "name": "task_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tasks_slug_unique_idx": {
          "name": "tasks_slug_unique_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "tasks_slug_lower_idx": {
          "name": "tasks_slug_lower_idx",
          "columns": [
            {
              "expression": "lower(\"slug\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "tasks_name_lower_idx": {
          "name": "tasks_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "tasks_slug_format": {
          "name": "tasks_slug_format",
          "value": "\"app\".\"tasks\".\"slug\" ~ '^[a-z0-9]+(-[a-z0-9]+)*$'"
        }
      },
      "isRLSEnabled": false
    },
    "app.task_variants": {
      "name": "task_variants",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_id": {
          "name": "task_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "task_variant_status",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "task_variants_task_name_unique_idx": {
          "name": "task_variants_task_name_unique_idx",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "where": "\"app\".\"task_variants\".\"name\" IS NOT NULL",
          "concurrently": false
        },
        "task_variants_task_id_status_idx": {
          "name": "task_variants_task_id_status_idx",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "task_variants_task_id_tasks_id_fk": {
          "name": "task_variants_task_id_tasks_id_fk",
          "tableFrom": "task_variants",
          "columnsFrom": ["task_id"],
          "tableTo": "tasks",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.task_variant_parameters": {
      "name": "task_variant_parameters",
      "schema": "app",
      "columns": {
        "task_variant_id": {
          "name": "task_variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "task_variant_parameters_task_variant_id_task_variants_id_fk": {
          "name": "task_variant_parameters_task_variant_id_task_variants_id_fk",
          "tableFrom": "task_variant_parameters",
          "columnsFrom": ["task_variant_id"],
          "tableTo": "task_variants",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "task_variant_parameters_pkey": {
          "name": "task_variant_parameters_pkey",
          "columns": ["task_variant_id", "name"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.task_bundles": {
      "name": "task_bundles",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "task_bundles_slug_lower_idx": {
          "name": "task_bundles_slug_lower_idx",
          "columns": [
            {
              "expression": "lower(\"slug\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "task_bundles_name_lower_idx": {
          "name": "task_bundles_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "task_bundles_slug_unique": {
          "name": "task_bundles_slug_unique",
          "columns": ["slug"],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {
        "tasks_slug_format": {
          "name": "tasks_slug_format",
          "value": "\"app\".\"task_bundles\".\"slug\" ~ '^[a-z0-9]+(-[a-z0-9]+)*$'"
        }
      },
      "isRLSEnabled": false
    },
    "app.task_bundle_variants": {
      "name": "task_bundle_variants",
      "schema": "app",
      "columns": {
        "task_bundle_id": {
          "name": "task_bundle_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task_variant_id": {
          "name": "task_variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "task_bundle_variants_task_bundle_id_idx": {
          "name": "task_bundle_variants_task_bundle_id_idx",
          "columns": [
            {
              "expression": "task_bundle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "task_bundle_variants_task_variant_id_idx": {
          "name": "task_bundle_variants_task_variant_id_idx",
          "columns": [
            {
              "expression": "task_variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "task_bundle_variants_task_bundle_id_sort_order_idx": {
          "name": "task_bundle_variants_task_bundle_id_sort_order_idx",
          "columns": [
            {
              "expression": "task_bundle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sort_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "task_bundle_variants_task_bundle_id_task_bundles_id_fk": {
          "name": "task_bundle_variants_task_bundle_id_task_bundles_id_fk",
          "tableFrom": "task_bundle_variants",
          "columnsFrom": ["task_bundle_id"],
          "tableTo": "task_bundles",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "task_bundle_variants_task_variant_id_task_variants_id_fk": {
          "name": "task_bundle_variants_task_variant_id_task_variants_id_fk",
          "tableFrom": "task_bundle_variants",
          "columnsFrom": ["task_variant_id"],
          "tableTo": "task_variants",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {
        "task_bundle_variants_task_bundle_id_task_variant_id_pkey": {
          "name": "task_bundle_variants_task_bundle_id_task_variant_id_pkey",
          "columns": ["task_bundle_id", "task_variant_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.orgs": {
      "name": "orgs",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "abbreviation": {
          "name": "abbreviation",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_type": {
          "name": "org_type",
          "type": "org_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "parent_org_id": {
          "name": "parent_org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "path": {
          "name": "path",
          "type": "ltree",
          "primaryKey": false,
          "notNull": true
        },
        "location_address_line1": {
          "name": "location_address_line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_address_line2": {
          "name": "location_address_line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_city": {
          "name": "location_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_state_province": {
          "name": "location_state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_postal_code": {
          "name": "location_postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_country": {
          "name": "location_country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "location_lat_long": {
          "name": "location_lat_long",
          "type": "point",
          "primaryKey": false,
          "notNull": false
        },
        "mdr_number": {
          "name": "mdr_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nces_id": {
          "name": "nces_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_id": {
          "name": "state_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_number": {
          "name": "school_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_rostering_root_org": {
          "name": "is_rostering_root_org",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rostering_ended": {
          "name": "rostering_ended",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "orgs_type_idx": {
          "name": "orgs_type_idx",
          "columns": [
            {
              "expression": "org_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "orgs_parent_idx": {
          "name": "orgs_parent_idx",
          "columns": [
            {
              "expression": "parent_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "orgs_parent_type_idx": {
          "name": "orgs_parent_type_idx",
          "columns": [
            {
              "expression": "parent_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "org_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "orgs_path_gist_idx": {
          "name": "orgs_path_gist_idx",
          "columns": [
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "gist",
          "concurrently": false
        },
        "orgs_name_lower_idx": {
          "name": "orgs_name_lower_idx",
          "columns": [
            {
              "expression": "lower(\"name\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "orgs_name_lower_pattern_idx": {
          "name": "orgs_name_lower_pattern_idx",
          "columns": [
            {
              "expression": "lower(\"name\") text_pattern_ops",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "orgs_parent_org_id_orgs_id_fk": {
          "name": "orgs_parent_org_id_orgs_id_fk",
          "tableFrom": "orgs",
          "columnsFrom": ["parent_org_id"],
          "tableTo": "orgs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orgs_ncesId_unique": {
          "name": "orgs_ncesId_unique",
          "columns": ["nces_id"],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {
        "orgs_abbreviation_format": {
          "name": "orgs_abbreviation_format",
          "value": "\"app\".\"orgs\".\"abbreviation\" ~ '^[A-Za-z0-9]+$'"
        }
      },
      "isRLSEnabled": false
    },
    "app.users": {
      "name": "users",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assessment_pid": {
          "name": "assessment_pid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_provider": {
          "name": "auth_provider",
          "type": "auth_provider[]",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false
        },
        "auth_id": {
          "name": "auth_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_first": {
          "name": "name_first",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_middle": {
          "name": "name_middle",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_last": {
          "name": "name_last",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_type": {
          "name": "user_type",
          "type": "user_type",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "dob": {
          "name": "dob",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "grade": {
          "name": "grade",
          "type": "grade",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false
        },
        "school_level": {
          "name": "school_level",
          "type": "school_level",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "type": "stored",
            "as": "app.get_school_level_from_grade(grade)"
          }
        },
        "status_ell": {
          "name": "status_ell",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_frl": {
          "name": "status_frl",
          "type": "free_reduced_lunch_status",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": false
        },
        "status_iep": {
          "name": "status_iep",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sis_id": {
          "name": "sis_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_id": {
          "name": "state_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_id": {
          "name": "local_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "race": {
          "name": "race",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hispanic_ethnicity": {
          "name": "hispanic_ethnicity",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "home_language": {
          "name": "home_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_from_research": {
          "name": "exclude_from_research",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_super_admin": {
          "name": "is_super_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_lower_uniqIdx": {
          "name": "users_email_lower_uniqIdx",
          "columns": [
            {
              "expression": "lower(\"email\")",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "with": {},
          "method": "btree",
          "where": "\"app\".\"users\".\"email\" IS NOT NULL",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_assessmentPid_unique": {
          "name": "users_assessmentPid_unique",
          "columns": ["assessment_pid"],
          "nullsNotDistinct": false
        },
        "users_authId_unique": {
          "name": "users_authId_unique",
          "columns": ["auth_id"],
          "nullsNotDistinct": false
        },
        "users_username_unique": {
          "name": "users_username_unique",
          "columns": ["username"],
          "nullsNotDistinct": false
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "columns": ["email"],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {
        "users_dob_in_past": {
          "name": "users_dob_in_past",
          "value": "\"app\".\"users\".\"dob\" IS NULL OR \"app\".\"users\".\"dob\" <= now()::date"
        }
      },
      "isRLSEnabled": false
    },
    "app.user_agreements": {
      "name": "user_agreements",
      "schema": "app",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agreement_version_id": {
          "name": "agreement_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agreement_timestamp": {
          "name": "agreement_timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_agreements_user_idx": {
          "name": "user_agreements_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "user_agreements_user_agreement_idx": {
          "name": "user_agreements_user_agreement_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agreement_version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "user_agreements_agreement_version_idx": {
          "name": "user_agreements_agreement_version_idx",
          "columns": [
            {
              "expression": "agreement_version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "user_agreements_user_id_users_id_fk": {
          "name": "user_agreements_user_id_users_id_fk",
          "tableFrom": "user_agreements",
          "columnsFrom": ["user_id"],
          "tableTo": "users",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "user_agreements_agreement_version_id_agreement_versions_id_fk": {
          "name": "user_agreements_agreement_version_id_agreement_versions_id_fk",
          "tableFrom": "user_agreements",
          "columnsFrom": ["agreement_version_id"],
          "tableTo": "agreement_versions",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app.user_classes": {
      "name": "user_classes",
      "schema": "app",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_start": {
          "name": "enrollment_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_end": {
          "name": "enrollment_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_classes_class_idx": {
          "name": "user_classes_class_idx",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "user_classes_user_id_users_id_fk": {
          "name": "user_classes_user_id_users_id_fk",
          "tableFrom": "user_classes",
          "columnsFrom": ["user_id"],
          "tableTo": "users",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "user_classes_class_id_classes_id_fk": {
          "name": "user_classes_class_id_classes_id_fk",
          "tableFrom": "user_classes",
          "columnsFrom": ["class_id"],
          "tableTo": "classes",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "user_classes_pk": {
          "name": "user_classes_pk",
          "columns": ["user_id", "class_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "user_classes_enrollment_dates_valid": {
          "name": "user_classes_enrollment_dates_valid",
          "value": "\"app\".\"user_classes\".\"enrollment_end\" IS NULL OR \"app\".\"user_classes\".\"enrollment_start\" < \"app\".\"user_classes\".\"enrollment_end\""
        }
      },
      "isRLSEnabled": false
    },
    "app.user_families": {
      "name": "user_families",
      "schema": "app",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "family_id": {
          "name": "family_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_family_role",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "joined_on": {
          "name": "joined_on",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "left_on": {
          "name": "left_on",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_families_family_idx": {
          "name": "user_families_family_idx",
          "columns": [
            {
              "expression": "family_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "user_families_user_id_users_id_fk": {
          "name": "user_families_user_id_users_id_fk",
          "tableFrom": "user_families",
          "columnsFrom": ["user_id"],
          "tableTo": "users",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "user_families_family_id_families_id_fk": {
          "name": "user_families_family_id_families_id_fk",
          "tableFrom": "user_families",
          "columnsFrom": ["family_id"],
          "tableTo": "families",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "user_families_pk": {
          "name": "user_families_pk",
          "columns": ["user_id", "family_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "user_families_membership_dates_valid": {
          "name": "user_families_membership_dates_valid",
          "value": "\"app\".\"user_families\".\"left_on\" IS NULL OR \"app\".\"user_families\".\"joined_on\" < \"app\".\"user_families\".\"left_on\""
        }
      },
      "isRLSEnabled": false
    },
    "app.user_groups": {
      "name": "user_groups",
      "schema": "app",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_start": {
          "name": "enrollment_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_end": {
          "name": "enrollment_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_groups_group_idx": {
          "name": "user_groups_group_idx",
          "columns": [
            {
              "expression": "group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "user_groups_user_id_users_id_fk": {
          "name": "user_groups_user_id_users_id_fk",
          "tableFrom": "user_groups",
          "columnsFrom": ["user_id"],
          "tableTo": "users",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "user_groups_group_id_groups_id_fk": {
          "name": "user_groups_group_id_groups_id_fk",
          "tableFrom": "user_groups",
          "columnsFrom": ["group_id"],
          "tableTo": "groups",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "user_groups_pk": {
          "name": "user_groups_pk",
          "columns": ["user_id", "group_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "user_groups_enrollment_dates_valid": {
          "name": "user_groups_enrollment_dates_valid",
          "value": "\"app\".\"user_groups\".\"enrollment_end\" IS NULL OR \"app\".\"user_groups\".\"enrollment_start\" < \"app\".\"user_groups\".\"enrollment_end\""
        }
      },
      "isRLSEnabled": false
    },
    "app.user_orgs": {
      "name": "user_orgs",
      "schema": "app",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "app",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_start": {
          "name": "enrollment_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_end": {
          "name": "enrollment_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_orgs_org_idx": {
          "name": "user_orgs_org_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "user_orgs_user_id_users_id_fk": {
          "name": "user_orgs_user_id_users_id_fk",
          "tableFrom": "user_orgs",
          "columnsFrom": ["user_id"],
          "tableTo": "users",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "user_orgs_org_id_orgs_id_fk": {
          "name": "user_orgs_org_id_orgs_id_fk",
          "tableFrom": "user_orgs",
          "columnsFrom": ["org_id"],
          "tableTo": "orgs",
          "schemaTo": "app",
          "columnsTo": ["id"],
          "onUpdate": "no action",
          "onDelete": "restrict"
        }
      },
      "compositePrimaryKeys": {
        "user_orgs_pk": {
          "name": "user_orgs_pk",
          "columns": ["user_id", "org_id"]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "user_orgs_enrollment_dates_valid": {
          "name": "user_orgs_enrollment_dates_valid",
          "value": "\"app\".\"user_orgs\".\"enrollment_end\" IS NULL OR \"app\".\"user_orgs\".\"enrollment_start\" < \"app\".\"user_orgs\".\"enrollment_end\""
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {
    "app.agreement_type": {
      "name": "agreement_type",
      "schema": "app",
      "values": ["tos", "assent", "consent"]
    },
    "app.assessment_stage": {
      "name": "assessment_stage",
      "schema": "app",
      "values": ["practice", "test"]
    },
    "app.assignment_progress": {
      "name": "assignment_progress",
      "schema": "app",
      "values": ["assigned", "started", "completed"]
    },
    "app.auth_provider": {
      "name": "auth_provider",
      "schema": "app",
      "values": ["password", "google", "oidc.clever", "oidc.classlink", "oidc.nycps"]
    },
    "app.class_type": {
      "name": "class_type",
      "schema": "app",
      "values": ["homeroom", "scheduled", "other"]
    },
    "app.free_reduced_lunch_status": {
      "name": "free_reduced_lunch_status",
      "schema": "app",
      "values": ["Free", "Reduced", "Paid"]
    },
    "app.grade": {
      "name": "grade",
      "schema": "app",
      "values": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "11",
        "12",
        "13",
        "PreKindergarten",
        "TransitionalKindergarten",
        "Kindergarten",
        "InfantToddler",
        "Preschool",
        "PostGraduate",
        "Ungraded",
        "Other",
        ""
      ]
    },
    "app.group_type": {
      "name": "group_type",
      "schema": "app",
      "values": ["cohort", "community", "business"]
    },
    "app.org_type": {
      "name": "org_type",
      "schema": "app",
      "values": ["national", "state", "local", "district", "school", "department"]
    },
    "app.rostering_entity_status": {
      "name": "rostering_entity_status",
      "schema": "app",
      "values": ["enrolled", "unenrolled", "failed", "skipped"]
    },
    "app.rostering_entity_type": {
      "name": "rostering_entity_type",
      "schema": "app",
      "values": ["org", "class", "course", "user"]
    },
    "app.rostering_provider": {
      "name": "rostering_provider",
      "schema": "app",
      "values": ["classlink", "clever", "dashboard", "nycps", "csv"]
    },
    "app.rostering_run_type": {
      "name": "rostering_run_type",
      "schema": "app",
      "values": ["full", "incremental", "retry"]
    },
    "app.school_level": {
      "name": "school_level",
      "schema": "app",
      "values": ["early_childhood", "elementary", "middle", "high", "postsecondary"]
    },
    "app.score_type": {
      "name": "score_type",
      "schema": "app",
      "values": ["computed", "raw"]
    },
    "app.task_variant_status": {
      "name": "task_variant_status",
      "schema": "app",
      "values": ["draft", "published", "deprecated"]
    },
    "app.trial_interaction_type": {
      "name": "trial_interaction_type",
      "schema": "app",
      "values": ["focus", "blur", "fullscreen_enter", "fullscreen_exit"]
    },
    "app.user_family_role": {
      "name": "user_family_role",
      "schema": "app",
      "values": ["parent", "child"]
    },
    "app.user_role": {
      "name": "user_role",
      "schema": "app",
      "values": [
        "administrator",
        "aide",
        "counselor",
        "district_administrator",
        "guardian",
        "parent",
        "principal",
        "proctor",
        "relative",
        "site_administrator",
        "student",
        "system_administrator",
        "teacher"
      ]
    },
    "app.user_type": {
      "name": "user_type",
      "schema": "app",
      "values": ["student", "educator", "caregiver", "admin"]
    }
  },
  "schemas": {},
  "views": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
